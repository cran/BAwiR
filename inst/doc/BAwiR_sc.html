<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Guillermo Vinue" />

<meta name="date" content="2025-10-22" />

<title>Analysis of Spanish spatial shooting data</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Analysis of Spanish spatial shooting
data</h1>
<h4 class="author">Guillermo Vinue</h4>
<h4 class="date">2025-10-22</h4>



<p>This document contains all the needed R code to reproduce the results
described in the paper <em>Collection and analysis of Spanish basketball
shooting data and a centralized data platform</em>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Firstly, load BAwiR and other packages that will be used here:</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(BAwiR) </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(Anthropometry) </span></code></pre></div>
<p>An example for obtaining the spatial shooting data from the official
ACB website is as follows. Define the analyst’s name, user agent and
x_apikey accordingly.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>data_days <span class="ot">&lt;-</span> <span class="fu">do_scrape_days_acb</span>(<span class="st">&quot;2024&quot;</span>, <span class="st">&quot;analyst_name&quot;</span>, <span class="cn">TRUE</span>, <span class="dv">2</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a> </span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>data_shots <span class="ot">&lt;-</span> <span class="fu">do_scrape_shots_acb</span>(data_days[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, ], <span class="cn">TRUE</span>, <span class="st">&quot;user_agent_def&quot;</span>, <span class="st">&quot;x_apikey&quot;</span>)</span></code></pre></div>
<p>BAwiR contains a sample of the shooting data from the ACB 2024-2025
regular season. We can see it with these commands:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>?acb_shooting_data_2425</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">head</span>(acb_shooting_data_2425)</span></code></pre></div>
<p>Players and teams belonging to the data frame can be obtained with
these commands:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(acb_shooting_data_2425<span class="sc">$</span>player_name))</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(acb_shooting_data_2425<span class="sc">$</span>full_name))</span></code></pre></div>
<p>The basketball court is divided into 10 zones as follows:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>df0 <span class="ot">&lt;-</span> <span class="fu">do_divide_court_zones</span>(acb_shooting_data_2425)</span></code></pre></div>
<p>Several filters can be applied with the following function:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">do_filter_data</span>(df0, <span class="st">&quot;2024-2025&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p>The violin and boxplots to investigate the data distributions and
statistical summaries are created as follows:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">do_violin_box_plots</span>(df1, acb_players_2425)</span></code></pre></div>
<p>The plot of the shooting patterns of the entire league by zones can
be obtained as follows:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>shots_stats <span class="ot">&lt;-</span> <span class="fu">do_shots_stats</span>(df1, df0) </span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a> </span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="fu">do_viz_shots_scatter</span>(shots_stats, <span class="st">&quot;all&quot;</span>, <span class="cn">FALSE</span>)</span></code></pre></div>
<p>The plots with the location of each individual shot attempted by
Dylan Ennis and his shooting patterns by zones can be obtained as
follows:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">do_filter_data</span>(df0, <span class="st">&quot;2024-2025&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;D. Ennis&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a> </span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>shots_stats <span class="ot">&lt;-</span> <span class="fu">do_shots_stats</span>(df1, df0)  </span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a> </span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="fu">do_viz_shots_scatter</span>(shots_stats, <span class="st">&quot;player&quot;</span>, <span class="cn">TRUE</span>)</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="fu">do_viz_shots_scatter</span>(shots_stats, <span class="st">&quot;player&quot;</span>, <span class="cn">FALSE</span>)</span></code></pre></div>
<p>The plots with the comparison of the Ennis’ and league field goal
percentage and the heatmap showing the distribution of Ennis’ shot
attempts across the court can be obtained as follows:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">do_viz_shots_gradient</span>(df1, <span class="st">&quot;player&quot;</span>, <span class="st">&quot;none&quot;</span>, df0)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="fu">do_viz_shots_gradient</span>(df1, <span class="st">&quot;player&quot;</span>, <span class="st">&quot;fg&quot;</span>, df0)</span></code></pre></div>
<p>Finally, the code to create a visualization of the players who shoot
little and score a lot in several zones at the same time is the
following:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>zones_court <span class="ot">&lt;-</span> metrics_player_zone <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="fu">distinct</span>(location) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>numArch <span class="ot">&lt;-</span> <span class="dv">10</span> </span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>numRep <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>numArchoid <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co"># Number of archetypoids.</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>data_arch <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="co"># Run the algorithm for each zone one by one and save the archetypoid </span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="co"># with least shots and highest percentage.</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>zone <span class="ot">&lt;-</span> metrics_player_zone <span class="sc">%&gt;%</span> </span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>  <span class="fu">filter</span>(location <span class="sc">==</span> zones_court[i]) <span class="sc">%&gt;%</span> </span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pps_player)</span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>zone_num <span class="ot">&lt;-</span> zone <span class="sc">%&gt;%</span> </span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a>  <span class="fu">select</span>(total, perc_player) </span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a>lass <span class="ot">&lt;-</span> <span class="fu">stepArchetypesRawData</span>(<span class="at">data =</span> zone_num, <span class="at">numArch =</span> <span class="dv">1</span><span class="sc">:</span>numArch, </span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a>                              <span class="at">numRep =</span> numRep, <span class="at">verbose =</span> <span class="cn">FALSE</span>)  </span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a>res_ns <span class="ot">&lt;-</span> <span class="fu">archetypoids</span>(numArchoid, zone_num, <span class="at">huge =</span> <span class="dv">200</span>, <span class="at">step =</span> <span class="cn">FALSE</span>, </span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a>                       <span class="at">ArchObj =</span> lass, <span class="at">nearest =</span> <span class="st">&quot;cand_ns&quot;</span>,<span class="at">sequ =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a>zone[res_ns<span class="sc">$</span>cases, ]</span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a></span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a><span class="co"># Here [1, ] indicates the archetypoid of interest. Change it accordingly.</span></span>
<span id="cb11-30"><a href="#cb11-30" tabindex="-1"></a><span class="co"># Here 4 indicates the number of similar players to the archetypoid. Change it accordingly.</span></span>
<span id="cb11-31"><a href="#cb11-31" tabindex="-1"></a>arch_targ <span class="ot">&lt;-</span> zone[<span class="fu">order</span>(res_ns<span class="sc">$</span>alphas[<span class="dv">1</span>, ], <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], ]</span>
<span id="cb11-32"><a href="#cb11-32" tabindex="-1"></a>data_arch <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_arch, arch_targ)</span>
<span id="cb11-33"><a href="#cb11-33" tabindex="-1"></a></span>
<span id="cb11-34"><a href="#cb11-34" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb11-35"><a href="#cb11-35" tabindex="-1"></a></span>
<span id="cb11-36"><a href="#cb11-36" tabindex="-1"></a>zone <span class="ot">&lt;-</span> metrics_player_zone <span class="sc">%&gt;%</span> </span>
<span id="cb11-37"><a href="#cb11-37" tabindex="-1"></a>  <span class="fu">filter</span>(location <span class="sc">==</span> zones_court[i]) <span class="sc">%&gt;%</span> </span>
<span id="cb11-38"><a href="#cb11-38" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pps_player)</span>
<span id="cb11-39"><a href="#cb11-39" tabindex="-1"></a></span>
<span id="cb11-40"><a href="#cb11-40" tabindex="-1"></a>zone_num <span class="ot">&lt;-</span> zone <span class="sc">%&gt;%</span> </span>
<span id="cb11-41"><a href="#cb11-41" tabindex="-1"></a>  <span class="fu">select</span>(total, perc_player) </span>
<span id="cb11-42"><a href="#cb11-42" tabindex="-1"></a></span>
<span id="cb11-43"><a href="#cb11-43" tabindex="-1"></a>lass <span class="ot">&lt;-</span> <span class="fu">stepArchetypesRawData</span>(<span class="at">data =</span> zone_num, <span class="at">numArch =</span> <span class="dv">1</span><span class="sc">:</span>numArch, </span>
<span id="cb11-44"><a href="#cb11-44" tabindex="-1"></a>                              <span class="at">numRep =</span> numRep, <span class="at">verbose =</span> <span class="cn">FALSE</span>)  </span>
<span id="cb11-45"><a href="#cb11-45" tabindex="-1"></a></span>
<span id="cb11-46"><a href="#cb11-46" tabindex="-1"></a>res_ns <span class="ot">&lt;-</span> <span class="fu">archetypoids</span>(numArchoid, zone_num, <span class="at">huge =</span> <span class="dv">200</span>, <span class="at">step =</span> <span class="cn">FALSE</span>, </span>
<span id="cb11-47"><a href="#cb11-47" tabindex="-1"></a>                       <span class="at">ArchObj =</span> lass, <span class="at">nearest =</span> <span class="st">&quot;cand_ns&quot;</span>,<span class="at">sequ =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-48"><a href="#cb11-48" tabindex="-1"></a>zone[res_ns<span class="sc">$</span>cases, ]</span>
<span id="cb11-49"><a href="#cb11-49" tabindex="-1"></a></span>
<span id="cb11-50"><a href="#cb11-50" tabindex="-1"></a>arch_targ <span class="ot">&lt;-</span> zone[<span class="fu">order</span>(res_ns<span class="sc">$</span>alphas[<span class="dv">2</span>, ], <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], ]</span>
<span id="cb11-51"><a href="#cb11-51" tabindex="-1"></a>data_arch <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_arch, arch_targ)</span>
<span id="cb11-52"><a href="#cb11-52" tabindex="-1"></a></span>
<span id="cb11-53"><a href="#cb11-53" tabindex="-1"></a><span class="fu">do_best_zones</span>(data_arch)</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
<pre><code>## R version 4.3.3 (2024-02-29)
## Platform: x86_64-redhat-linux-gnu (64-bit)
## Running under: Fedora Linux 39 (Workstation Edition)
## 
## Matrix products: default
## BLAS/LAPACK: FlexiBLAS OPENBLAS-OPENMP;  LAPACK version 3.11.0
## 
## locale:
##  [1] LC_CTYPE=es_ES.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=es_ES.UTF-8        LC_COLLATE=C              
##  [5] LC_MONETARY=es_ES.UTF-8    LC_MESSAGES=es_ES.UTF-8   
##  [7] LC_PAPER=es_ES.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=es_ES.UTF-8 LC_IDENTIFICATION=C       
## 
## time zone: Europe/Madrid
## tzcode source: system (glibc)
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## loaded via a namespace (and not attached):
##  [1] digest_0.6.37     R6_2.6.1          fastmap_1.2.0     xfun_0.52        
##  [5] cachem_1.1.0      knitr_1.50        htmltools_0.5.8.1 rmarkdown_2.29   
##  [9] lifecycle_1.0.4   cli_3.6.5         sass_0.4.10       jquerylib_0.1.4  
## [13] compiler_4.3.3    tools_4.3.3       evaluate_1.0.3    bslib_0.9.0      
## [17] yaml_2.3.10       rlang_1.1.6       jsonlite_2.0.0</code></pre>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
